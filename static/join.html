<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–í—Ö—ñ–¥ –∑–∞ –∫–æ–¥–æ–º</title>
  <style>
    :root { color-scheme: dark; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:#0b0d12; color:#e8eaed;
      margin:0; padding:40px 20px;
      display:flex; flex-direction:column; align-items:center;
    }
    h2 { margin:0 0 12px; font-size:1.6rem; text-align:center; }
    p { opacity:.9; margin:0 0 20px; text-align:center; font-size:1rem; }

    .row { display:flex; flex-wrap:wrap; gap:10px; justify-content:center; width:100%; max-width:400px; }
    input,button {
      flex:1;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid #2a3a60;
      background:#0d1320; color:#e8eaed;
      font-size:1rem;
    }
    input { min-width: 200px; }
    button { cursor:pointer; flex:0 0 auto; }
    #err { color:#ff6b6b; margin-top:14px; font-size:0.95rem; }

    /* üì± –º–æ–±—ñ–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è */
    @media (max-width:480px){
      body { padding:20px 10px; }
      h2 { font-size:1.4rem; }
      input,button { font-size:1rem; width:100%; }
      .row { flex-direction:column; align-items:stretch; }
    }
  </style>
</head>
<body>
  <h2>–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –∫–ª—é—á –¥–æ—Å—Ç—É–ø—É</h2>
  <p>–¶–µ–π —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π –ª–∏—à–µ –¥–ª—è –∑–∞–ø—Ä–æ—à–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.</p>

  <div class="row">
    <input id="k" placeholder="–í—Å—Ç–∞–≤—Ç–µ –∫–ª—é—á" />
    <button onclick="go()">–£–≤—ñ–π—Ç–∏</button>
  </div>
  <p id="err"></p>

  <script>
    async function go(){
      const v = document.getElementById('k').value.trim();
      if(!v){ alert('–í–≤–µ–¥—ñ—Ç—å –∫–ª—é—á'); return; }
      try{
        const r = await fetch('/auth', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({code: v})
        });
        if(r.ok){
          location.href = '/';
        }else{
          document.getElementById('err').textContent =
            '–ù–µ–≤—ñ—Ä–Ω–∏–π –∫–ª—é—á. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑ –∞–±–æ –∑–∞–ø–∏—Ç–∞–π—Ç–µ –≤–ª–∞—Å–Ω–∏–∫–∞ —Å–∞–π—Ç—É.';
        }
      }catch(e){
        alert('–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.');
      }
    }
  </script>
</body>
</html>
